{% extends "base.html" %}
{% block content %}
<h2 class="mb-4">åˆªé™¤ç©å®¶</h2>

<table class="table table-bordered table-striped">
    <thead class="table-dark">
        <tr>
            <th>å§“å</th>
            <th>è·æ¥­</th>
            <th>åˆ†çµ„</th>
            <th>éšŠä¼</th>
            <th>å‚™è¨»</th>
            <th>æ“ä½œ</th>
        </tr>
    </thead>
    <tbody>
        {% for player in players %}
        <tr id="row-{{ player.id }}">
            <td>{{ player.player_name }}</td>
            <td>{{ player.job }}</td>
            <td>{{ player.group_name or '' }}</td>
            <td>{{ player.team_name or '' }}</td>
            <td>{{ player.role_note or '' }}</td>
            <td>
                <button class="btn btn-danger btn-sm delete-btn" data-id="{{ player.id }}">
                    ğŸ—‘ï¸ åˆªé™¤
                </button>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<script>
    $(document).on('click', '.delete-btn', function() {
        var playerId = $(this).data('id');
        if (confirm("ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ")) {
            $.post('/delete/' + playerId, function(response) {
                if (response.status === "success") {
                    $("#row-" + playerId).remove(); // å³æ™‚ç§»é™¤è©²åˆ—
                }
            });
        }
    });
</script>
{% endblock %}